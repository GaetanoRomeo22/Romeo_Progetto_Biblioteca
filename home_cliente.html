<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
        <h1>üìö Biblioteca Comunale</h1>
        <nav>
            <ul>
                <li><a onclick="showAvailableBooks()">Libri Disponibili</a></li>
                <li><a onclick="showCardDetails()">Gestione Tessera</a></li>
                <li><a onclick="showLoans()">I miei prestiti</a></li>
                <li><a >Eventi</a></li>
                <li><a onclick="logout()">Logout</a></li>
            </ul>
        </nav>
    </header>
    <main class="main-content">
        <section class="welcome-box">
            <h2 id="user-info"></h2>
            <p>Benvenuto nella tua area personale della biblioteca</p>
        </section>
        <section id="books-section" style="display: none;">
            <h3>Libri Disponibili</h3>
            <div id="books-list"></div>
        </section>
        <section id="card-section" style="display: none;">
            <h3>Gestione Tessera</h3>
            <div id="card-status"></div>
            <button id="request-card-btn" style="display:none;" onclick="requestCard()">Richiedi Tessera</button>
            <button id="renew-card-btn" style="display:none;" onclick="renewCard()">Rinnova Tessera</button>
        </section>
        <section id="loans-section" style="display:none;">
            <h3>Storico Prestiti</h3>
            <div id="loans-list"></div>
        </section>
    </main>
    <footer class="footer">
        üìç Biblioteca Comunale di Ponticelli Grazia Deledda - ¬© 2025
    </footer>
    <script src="js/main.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', async () => {
            await checkAccess('cliente'); // Verifica che l'utente abbia accesso alla pagina
            await showUserInfo(); // Mostra le informazioni dell'utente
        });
    </script>
</body>
</html>